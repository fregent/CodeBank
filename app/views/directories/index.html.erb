<%= link_to "All Snippets",  snippets_path, class:"btn btn-primary rounded-pill btn-sm", class: "back-btn" %>

<h2 class="my-5">Directories</h2>

<%= render "shared/modal_directory", directories: @directory %>

<% if @search_results.present? %>
  <% if @search_results.count == 1 %>
    <h2>1 result found</h2>
  <% else %>
    <h2><%= @search_results.count %> results found:</h2>
  <% end %>
  <div class="card-container my-5">
    <% @search_results.each do |result| %>
      <% if result.searchable_type == 'Snippet' %>
        <%= render "shared/cards", snippet: result.searchable %>
      <% elsif result.searchable_type == 'Directory' %>
        <%= render "shared/directory_cards", directory: result.searchable %>
      <% end %>
    <% end %>
  </div>

<% else %>
  <div class="card-container my-5">
    <% @directories.each do |directory| %>
      <%= render "shared/directory_cards", directory: directory %>
    <% end %>
  </div>
<% end %>
